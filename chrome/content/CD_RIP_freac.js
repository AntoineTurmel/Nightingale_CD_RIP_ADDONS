if (typeof CdRip == 'undefined') {  var CdRip = {};}CdRip.freac = {		//@String - chemin vers l'executable freaccmd	_conf_cd_rip_freaccmd_exe: "",		//@String - chemin vers le fichier de sortie par defaut pour les fichiers convertis	_conf_cd_rip_oupout_dir: "",		//@integer - (0 => CBR, 1 => VBR or 2 => ABR, default: VBR)	_conf_lame_mode: 0,		//@integer - (8 - 320, default: 192)	_conf_lame_cbr_abr_bitrate: 192,		//@integer - (0 = best, 9 = worst, default: 5)	_conf_lame_vbr_quality: 5,			_args: null,	_pid: 0,	_pref_branch: "extensions.cd-rip.",	set conf_cd_rip_freaccmd_exe (conf_cd_rip_freaccmd_exe){		if(typeof(conf_cd_rip_freaccmd_exe)== 'string'){			this._conf_cd_rip_freaccmd_exe = conf_cd_rip_freaccmd_exe;						this.setpref("charPref", "conf_cd_rip_freaccmd_exe" ,conf_cd_rip_freaccmd_exe);		}		else{			alert("Vous devez saisir une chaine de caractère");			this._conf_cd_rip_freaccmd_exe = "";		}	},		set conf_cd_rip_oupout_dir (conf_cd_rip_oupout_dir){		if(typeof(conf_cd_rip_oupout_dir)== 'string'){			this._conf_cd_rip_oupout_dir = conf_cd_rip_oupout_dir;						this.setpref("charPref", "conf_cd_rip_oupout_dir" ,conf_cd_rip_oupout_dir);		}		else{			alert("Vous devez saisir une chaine de caractère");			this._conf_cd_rip_oupout_dir = "";		}	},		set conf_lame_mode (conf_lame_mode){			conf_lame_mode = parseInt(conf_lame_mode)				this._conf_lame_mode = conf_lame_mode;		this.setpref("setInt", "conf_lame_mode" ,conf_lame_mode);	},		set conf_lame_cbr_abr_bitrate (conf_lame_cbr_abr_bitrate){			conf_lame_cbr_abr_bitrate = parseInt(conf_lame_cbr_abr_bitrate)				if(conf_lame_cbr_abr_bitrate > 8 || conf_lame_cbr_abr_bitrate < 320){			this._conf_lame_cbr_abr_bitrate = conf_lame_cbr_abr_bitrate;			this.setpref("setInt", "conf_lame_cbr_abr_bitrate" ,conf_lame_cbr_abr_bitrate);		}		else{			this._conf_lame_cbr_abr_bitrate = 320;		}	},		set conf_lame_vbr_quality (conf_lame_vbr_quality){			conf_lame_vbr_quality = parseInt(conf_lame_vbr_quality)				if(conf_lame_vbr_quality > 0 || conf_lame_vbr_quality < 9){			this._conf_lame_vbr_quality = conf_lame_vbr_quality;			this.setpref("setInt", "conf_lame_vbr_quality" ,conf_lame_vbr_quality);		}		else{			this._conf_lame_vbr_quality = 5;		}	},		set args (args){		if(typeof(args)=='object'&&(args instanceof Array)){			this._args = args;		}		else{			alert("set args error");		}	},		get conf_cd_rip_freaccmd_exe (){		return this._conf_cd_rip_freaccmd_exe;	},		get conf_cd_rip_oupout_dir (){		return this._conf_cd_rip_oupout_dir;	},		get conf_lame_mode (){		return this._conf_lame_mode;	},		get conf_lame_cbr_abr_bitrate (){		return this._conf_lame_cbr_abr_bitrate;	},		get conf_lame_vbr_quality (){		return this._conf_lame_vbr_quality;	},		get args (){		return this._args;	},		get pid (){		return this._pid;	},			resetUi: function(){		alert("ok");	},			reset: function(tab_id){			if(tab_id == "cd_rip"){			this.conf_cd_rip_freaccmd_exe = "";			document.getElementById('conf_cd_rip_freaccmd_exe').value = prefs.getCharPref("conf_cd_rip_freaccmd_exe");						this.conf_cd_rip_oupout_dir = "";			document.getElementById('conf_cd_rip_oupout_dir').value = prefs.getCharPref("conf_cd_rip_oupout_dir");		}		else if(tab_id == "lame"){			this.conf_lame_mode = 0;			document.getElementById('conf_lame_mode').parentNode.selectedIndex = prefs.getIntPref("conf_lame_mode");						this.conf_lame_cbr_abr_bitrate = 192;			document.getElementById('conf_lame_cbr_abr_bitrate').value = prefs.getIntPref("conf_lame_cbr_abr_bitrate");						this.conf_lame_vbr_quality = 5;			document.getElementById('conf_lame_vbr_quality').value = prefs.getIntPref("conf_lame_vbr_quality");		}	},		//permet d'écrire dans le fichier de prefs	//type @string 	//pref_name @string	//value @string|@boolean|@integer	setpref: function(type, pref_name, value){		var prefs = Components.classes["@mozilla.org/preferences-service;1"]						.getService(Components.interfaces.nsIPrefService);			prefs = prefs.getBranch(this._pref_branch);					if(type == "charPref"){			prefs.setCharPref(pref_name,value);		}		else if(type == "boolPref"){			prefs.setBoolPref(pref_name,value);		}		else if(type == "setInt"){			prefs.setIntPref(pref_name,value);		}	},		run: function() {			var file = Components.classes["@mozilla.org/file/local;1"].						 createInstance(Components.interfaces.nsILocalFile);		file.initWithPath(this.conf_cd_rip_freaccmd_exe);		var p = Components.classes["@mozilla.org/process/util;1"]						.createInstance(Components.interfaces.nsIProcess);		p.init(file);		this.args=["-h"];		p.run(false, this.args, this.args.length);		this.pid = p.pid; // Can't use anymore, but does return in Windows at least	},};